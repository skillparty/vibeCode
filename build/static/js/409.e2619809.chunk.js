"use strict";(self.webpackChunkascii_screensaver=self.webpackChunkascii_screensaver||[]).push([[409],{409:(t,e,i)=>{i.r(e),i.d(e,{NetworkNodes:()=>s});var n=i(653);class s extends n.m{constructor(t,e){super(t,e,"network-nodes"),this.nodes=[],this.connections=[],this.maxNodes=20,this.maxConnections=30,this.connectionDistance=15,this.nodeSpeed=2,this.activityTimer=0,this.spawnTimer=0,this.spawnInterval=3e3,this.nodeChars={server:["\u2588","\u2593","\u2592"],client:["\u25cf","\u25cb","\u25e6"],router:["\u25c6","\u25c7","\u25c8"],database:["\u25a0","\u25a1","\u25ab"]},this.connectionChars=["-","=","\u2261","~","\xb7"," "],this.applyDensityConfig(e.density||"medium"),this.applySpeedConfig(e.speed||"medium")}initialize(){this.isInitialized=!0,this.nodes=[],this.connections=[],this.activityTimer=0,this.spawnTimer=0,this.ctx.font="".concat(this.config.fontSize||12,"px ").concat(this.config.fontFamily||"Courier New, Monaco, Consolas, monospace"),this.ctx.textBaseline="top",this.ctx.textAlign="left",this.connectionDistance=Math.min(this.gridWidth,this.gridHeight)/4,this.createInitialNodes(),this.updateConnections()}createInitialNodes(){const t=Math.floor(.6*this.maxNodes);for(let e=0;e<t;e++)this.createNode()}createNode(){if(this.nodes.length>=this.maxNodes)return;const t=["server","client","router","database"],e=t[Math.floor(Math.random()*t.length)],i={x:this.randomRange(2,this.gridWidth-2),y:this.randomRange(2,this.gridHeight-2),vx:this.randomRange(-this.nodeSpeed,this.nodeSpeed),vy:this.randomRange(-this.nodeSpeed,this.nodeSpeed),char:this.getCharForNodeType(e),color:this.getColorForNodeType(e),connections:[],activity:Math.random(),type:e,age:0};this.nodes.push(i)}getCharForNodeType(t){const e=this.nodeChars[t];return e[Math.floor(Math.random()*e.length)]}getColorForNodeType(t){switch(this.config.currentTheme||"matrix"){case"matrix":switch(t){case"server":return"#00ff00";case"client":return"#88ff88";case"router":return"#44ff44";case"database":return"#00cc00"}break;case"terminal":switch(t){case"server":return"#00ff00";case"client":return"#ffff00";case"router":return"#ff8800";case"database":return"#88ff88"}break;case"retro":switch(t){case"server":return"#ff6b35";case"client":return"#ffaa44";case"router":return"#ff8822";case"database":return"#cc5500"}break;case"blue":switch(t){case"server":return"#00bfff";case"client":return"#88ccff";case"router":return"#44aaff";case"database":return"#0088cc"}}return"#00ff00"}updateConnections(){this.connections=[],this.nodes.forEach(t=>{t.connections=[]});for(let t=0;t<this.nodes.length;t++)for(let e=t+1;e<this.nodes.length;e++){const i=this.nodes[t],n=this.nodes[e],s=this.getDistance(i.x,i.y,n.x,n.y);if(s<=this.connectionDistance&&this.connections.length<this.maxConnections){const o=1-s/this.connectionDistance;if(Math.random()<.7*o){const s={from:t,to:e,strength:o,activity:Math.random(),char:this.getConnectionChar(),color:this.getConnectionColor(i,n)};this.connections.push(s),i.connections.push(e),n.connections.push(t)}}}}getDistance(t,e,i,n){return Math.sqrt((i-t)**2+(n-e)**2)}getConnectionChar(){return this.connectionChars[Math.floor(Math.random()*this.connectionChars.length)]}getConnectionColor(t,e){switch(this.config.currentTheme||"matrix"){case"matrix":default:return"#004400";case"terminal":return"#444400";case"retro":return"#442200";case"blue":return"#002244"}}update(t){if(!this.isInitialized)return;const e=t/1e3;this.activityTimer+=t,this.spawnTimer+=t,this.spawnTimer>=this.spawnInterval&&this.nodes.length<this.maxNodes&&(this.createNode(),this.spawnTimer=0,this.updateConnections()),this.updateNodes(e),this.updateConnectionActivity(e),this.activityTimer>1e3&&(this.updateConnections(),this.activityTimer=0)}updateNodes(t){this.nodes.forEach((e,i)=>{if(e.x+=e.vx*t,e.y+=e.vy*t,(e.x<=1||e.x>=this.gridWidth-1)&&(e.vx*=-1,e.x=this.clamp(e.x,1,this.gridWidth-1)),(e.y<=1||e.y>=this.gridHeight-1)&&(e.vy*=-1,e.y=this.clamp(e.y,1,this.gridHeight-1)),e.activity=.3+.7*Math.sin(.001*this.activityTimer+i),e.age+=t,Math.random()<.01){e.vx+=this.randomRange(-.5,.5),e.vy+=this.randomRange(-.5,.5);const t=Math.sqrt(e.vx**2+e.vy**2);t>this.nodeSpeed&&(e.vx=e.vx/t*this.nodeSpeed,e.vy=e.vy/t*this.nodeSpeed)}})}updateConnectionActivity(t){this.connections.forEach((t,e)=>{t.activity=.2+.8*Math.sin(.002*this.activityTimer+.5*e),Math.random()<.1&&(t.char=this.getConnectionChar())})}render(){this.ctx.fillStyle=this.getBackgroundColor(),this.ctx.fillRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.isInitialized&&(this.renderConnections(),this.renderNodes(),this.renderNetworkInfo())}renderConnections(){this.connections.forEach(t=>{const e=this.nodes[t.from],i=this.nodes[t.to];if(!e||!i)return;const n=i.x-e.x,s=i.y-e.y,o=Math.sqrt(n**2+s**2);if(o<1)return;const r=Math.floor(o),a=n/r,h=s/r,c=t.activity*t.strength*.7;this.ctx.fillStyle=this.applyAlpha(t.color,c);for(let d=1;d<r;d++){const i=Math.floor(e.x+a*d),n=Math.floor(e.y+h*d);if(i>=0&&i<this.gridWidth&&n>=0&&n<this.gridHeight){const e=d%3===0?t.char:Math.random()<.3?"\xb7":" ";" "!==e&&this.drawChar(e,i,n)}}})}renderNodes(){this.nodes.forEach(t=>{const e=Math.floor(t.x),i=Math.floor(t.y);if(e>=0&&e<this.gridWidth&&i>=0&&i<this.gridHeight){const n=.5+.5*t.activity;this.ctx.fillStyle=this.applyAlpha(t.color,n),this.drawChar(t.char,e,i),t.connections.length>3&&(this.ctx.fillStyle=this.applyAlpha("#ffffff",.5*n),this.drawChar("+",e+1,i))}})}renderNetworkInfo(){if(this.gridHeight<2||this.gridWidth<25)return;const t="Network | Nodes: ".concat(this.nodes.length," | Connections: ").concat(this.connections.length);this.ctx.fillStyle=this.getInfoColor();for(let e=0;e<Math.min(t.length,this.gridWidth);e++)this.drawChar(t[e],e,0)}getBackgroundColor(){switch(this.config.currentTheme||"matrix"){case"matrix":default:return"#000000";case"terminal":return"#001100";case"retro":return"#110800";case"blue":return"#000811"}}getInfoColor(){switch(this.config.currentTheme||"matrix"){case"matrix":default:return"#002200";case"terminal":return"#222200";case"retro":return"#221100";case"blue":return"#001122"}}applyAlpha(t,e){if(t.startsWith("#")){const i=parseInt(t.slice(1,3),16),n=parseInt(t.slice(3,5),16),s=parseInt(t.slice(5,7),16);return"rgba(".concat(i,", ").concat(n,", ").concat(s,", ").concat(e,")")}return t.startsWith("rgba")?t.replace(/[\d\.]+\)$/g,"".concat(e,")")):t.startsWith("rgb")?t.replace("rgb","rgba").replace(")",", ".concat(e,")")):t}applyDensityConfig(t){switch(t){case"low":this.maxNodes=10,this.maxConnections=15,this.connectionDistance=Math.min(this.gridWidth,this.gridHeight)/3;break;case"medium":this.maxNodes=20,this.maxConnections=30,this.connectionDistance=Math.min(this.gridWidth,this.gridHeight)/4;break;case"high":this.maxNodes=35,this.maxConnections=50,this.connectionDistance=Math.min(this.gridWidth,this.gridHeight)/5}}applySpeedConfig(t){switch(t){case"slow":this.nodeSpeed=1,this.spawnInterval=5e3;break;case"medium":this.nodeSpeed=2,this.spawnInterval=3e3;break;case"fast":this.nodeSpeed=4,this.spawnInterval=1500}}onResize(t,e){super.onResize(t,e),this.isInitialized&&(this.connectionDistance=Math.min(t,e)/4,this.nodes=this.nodes.filter(i=>i.x>=1&&i.x<t-1&&i.y>=1&&i.y<e-1),this.updateConnections())}setConfig(t){super.setConfig(t),t.density&&(this.applyDensityConfig(t.density),this.isInitialized&&this.updateConnections()),t.speed&&this.applySpeedConfig(t.speed),t.currentTheme&&(this.nodes.forEach(t=>{t.color=this.getColorForNodeType(t.type)}),this.connections.forEach(t=>{const e=this.nodes[t.from],i=this.nodes[t.to];e&&i&&(t.color=this.getConnectionColor(e,i))}))}cleanup(){this.isInitialized=!1,this.nodes=[],this.connections=[],this.activityTimer=0,this.spawnTimer=0,this.animationState={}}getAnimationState(){return{nodeCount:this.nodes.length,connectionCount:this.connections.length,maxNodes:this.maxNodes,maxConnections:this.maxConnections,connectionDistance:this.connectionDistance,nodeSpeed:this.nodeSpeed,averageActivity:this.nodes.reduce((t,e)=>t+e.activity,0)/this.nodes.length||0}}}}}]);
//# sourceMappingURL=409.e2619809.chunk.js.map