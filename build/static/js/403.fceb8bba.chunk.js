"use strict";(self.webpackChunkascii_screensaver=self.webpackChunkascii_screensaver||[]).push([[403],{403:(t,e,i)=>{i.r(e),i.d(e,{ConwayLife:()=>s});var r=i(653);class s extends r.m{constructor(t,e){super(t,e,"conway-life"),this.currentGrid=[],this.nextGrid=[],this.generation=0,this.updateTimer=0,this.updateInterval=200,this.maxAge=10,this.stableGenerations=0,this.lastPopulation=0,this.resetTimer=0,this.resetInterval=3e4,this.cellChars={simple:["\u2588","\u2593","\u2592","\u2591"," "],organic:["@","#","*","o","."," "],digital:["1","0","1","0"," "],blocks:["\u2588","\u2589","\u258a","\u258b","\u258c","\u258d","\u258e","\u258f"," "]},this.currentCharSet=this.cellChars.simple,this.patterns={glider:[[0,1,0],[0,0,1],[1,1,1]],blinker:[[1,1,1]],toad:[[0,1,1,1],[1,1,1,0]],beacon:[[1,1,0,0],[1,1,0,0],[0,0,1,1],[0,0,1,1]],pulsar:[[0,0,1,1,1,0,0,0,1,1,1,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0],[1,0,0,0,0,1,0,1,0,0,0,0,1],[1,0,0,0,0,1,0,1,0,0,0,0,1],[1,0,0,0,0,1,0,1,0,0,0,0,1],[0,0,1,1,1,0,0,0,1,1,1,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,1,1,1,0,0,0,1,1,1,0,0],[1,0,0,0,0,1,0,1,0,0,0,0,1],[1,0,0,0,0,1,0,1,0,0,0,0,1],[1,0,0,0,0,1,0,1,0,0,0,0,1],[0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,1,1,1,0,0,0,1,1,1,0,0]],gosperGun:[[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,1,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,1,1],[0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,1,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,1,1],[1,1,0,0,0,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[1,1,0,0,0,0,0,0,0,0,1,0,0,0,1,0,1,1,0,0,0,0,1,0,1,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]]},this.applySpeedConfig(e.speed||"medium"),this.applyComplexityConfig(e.complexity||"medium")}initialize(){this.isInitialized=!0,this.generation=0,this.updateTimer=0,this.stableGenerations=0,this.lastPopulation=0,this.resetTimer=0,this.ctx.font="".concat(this.config.fontSize||12,"px ").concat(this.config.fontFamily||"Courier New, Monaco, Consolas, monospace"),this.ctx.textBaseline="top",this.ctx.textAlign="left",this.initializeGrids(),this.seedRandomPatterns()}initializeGrids(){this.currentGrid=[],this.nextGrid=[];for(let t=0;t<this.gridHeight;t++){this.currentGrid[t]=[],this.nextGrid[t]=[];for(let e=0;e<this.gridWidth;e++)this.currentGrid[t][e]={alive:!1,age:0,char:" ",color:"#000000"},this.nextGrid[t][e]={alive:!1,age:0,char:" ",color:"#000000"}}}seedRandomPatterns(){const t=Object.keys(this.patterns),e=Math.floor(2+4*this.getDensityMultiplier());for(let r=0;r<e;r++){const e=t[Math.floor(Math.random()*t.length)],i=this.patterns[e],r=Math.floor(Math.random()*(this.gridWidth-i[0].length)),s=Math.floor(Math.random()*(this.gridHeight-i.length));this.placePattern(i,r,s)}const i=.1*this.getDensityMultiplier();for(let r=0;r<this.gridHeight;r++)for(let t=0;t<this.gridWidth;t++)Math.random()<i&&(this.currentGrid[r][t].alive=!0,this.currentGrid[r][t].age=0);this.updateCellAppearance()}placePattern(t,e,i){for(let r=0;r<t.length;r++)for(let s=0;s<t[r].length;s++){const a=e+s,h=i+r;a>=0&&a<this.gridWidth&&h>=0&&h<this.gridHeight&&1===t[r][s]&&(this.currentGrid[h][a].alive=!0,this.currentGrid[h][a].age=0)}}update(t){this.isInitialized&&(this.updateTimer+=t,this.resetTimer+=t,this.updateTimer>=this.updateInterval&&(this.nextGeneration(),this.updateTimer=0),(this.resetTimer>=this.resetInterval||this.stableGenerations>50)&&this.resetSimulation())}nextGeneration(){let t=0;for(let e=0;e<this.gridHeight;e++)for(let i=0;i<this.gridWidth;i++){const r=this.countNeighbors(i,e),s=this.currentGrid[e][i],a=this.nextGrid[e][i];s.alive?(a.alive=2===r||3===r,a.age=a.alive?s.age+1:0):(a.alive=3===r,a.age=(a.alive,0)),a.alive&&t++,a.age=Math.min(a.age,this.maxAge)}[this.currentGrid,this.nextGrid]=[this.nextGrid,this.currentGrid],this.generation++,Math.abs(t-this.lastPopulation)<5?this.stableGenerations++:this.stableGenerations=0,this.lastPopulation=t,this.updateCellAppearance()}countNeighbors(t,e){let i=0;for(let r=-1;r<=1;r++)for(let s=-1;s<=1;s++){if(0===s&&0===r)continue;const a=e+r,h=(t+s+this.gridWidth)%this.gridWidth,n=(a+this.gridHeight)%this.gridHeight;this.currentGrid[n][h].alive&&i++}return i}updateCellAppearance(){for(let t=0;t<this.gridHeight;t++)for(let e=0;e<this.gridWidth;e++){const i=this.currentGrid[t][e];i.alive?(i.char=this.getCharForAge(i.age),i.color=this.getColorForAge(i.age)):(i.char=" ",i.color="#000000")}}getCharForAge(t){const e=Math.min(t/this.maxAge,1),i=Math.floor(e*(this.currentCharSet.length-1));return this.currentCharSet[i]}getColorForAge(t){const e=this.config.currentTheme||"matrix",i=Math.min(t/this.maxAge,1);switch(e){case"matrix":const t=Math.floor(255*(1-.7*i));return"rgb(0, ".concat(t,", 0)");case"terminal":const e=Math.floor(255*(.8-.5*i));return"rgb(0, ".concat(e,", 0)");case"retro":const r=Math.floor(255*(.6+.4*i)),s=Math.floor(107*(1-.6*i));return"rgb(".concat(r,", ").concat(s,", 53)");case"blue":const a=Math.floor(255*(1-.6*i)),h=Math.floor(191*(.8-.4*i));return"rgb(0, ".concat(h,", ").concat(a,")");default:return"#00ff00"}}resetSimulation(){this.generation=0,this.stableGenerations=0,this.lastPopulation=0,this.resetTimer=0;for(let t=0;t<this.gridHeight;t++)for(let e=0;e<this.gridWidth;e++)this.currentGrid[t][e].alive=!1,this.currentGrid[t][e].age=0;this.seedRandomPatterns()}render(){if(this.ctx.fillStyle="#000000",this.ctx.fillRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.isInitialized){for(let t=0;t<this.gridHeight;t++)for(let e=0;e<this.gridWidth;e++){const i=this.currentGrid[t][e];i.alive&&" "!==i.char&&(this.ctx.fillStyle=i.color,this.drawChar(i.char,e,t))}this.renderInfoOverlay()}}renderInfoOverlay(){if(this.gridHeight<2||this.gridWidth<20)return;const t="Conway's Life | Gen: ".concat(this.generation," | Pop: ").concat(this.lastPopulation);this.ctx.fillStyle=this.getInfoColor();for(let e=0;e<Math.min(t.length,this.gridWidth);e++)this.drawChar(t[e],e,this.gridHeight-1)}getInfoColor(){switch(this.config.currentTheme||"matrix"){case"matrix":case"terminal":default:return"#004400";case"retro":return"#662200";case"blue":return"#002244"}}applySpeedConfig(t){switch(t){case"slow":this.updateInterval=500,this.resetInterval=45e3;break;case"medium":this.updateInterval=200,this.resetInterval=3e4;break;case"fast":this.updateInterval=100,this.resetInterval=15e3}}applyComplexityConfig(t){switch(t){case"low":this.currentCharSet=this.cellChars.simple,this.maxAge=5;break;case"medium":this.currentCharSet=this.cellChars.organic,this.maxAge=10;break;case"high":this.currentCharSet=this.cellChars.blocks,this.maxAge=15}}onResize(t,e){super.onResize(t,e),this.isInitialized&&(this.initializeGrids(),this.seedRandomPatterns())}setConfig(t){super.setConfig(t),t.speed&&this.applySpeedConfig(t.speed),t.complexity&&(this.applyComplexityConfig(t.complexity),this.isInitialized&&this.updateCellAppearance())}cleanup(){this.isInitialized=!1,this.currentGrid=[],this.nextGrid=[],this.generation=0,this.updateTimer=0,this.stableGenerations=0,this.lastPopulation=0,this.resetTimer=0,this.animationState={}}getAnimationState(){return{generation:this.generation,population:this.lastPopulation,stableGenerations:this.stableGenerations,updateInterval:this.updateInterval,maxAge:this.maxAge,resetProgress:this.resetTimer/this.resetInterval}}}}}]);
//# sourceMappingURL=403.fceb8bba.chunk.js.map