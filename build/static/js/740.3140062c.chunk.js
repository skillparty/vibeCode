"use strict";(self.webpackChunkascii_screensaver=self.webpackChunkascii_screensaver||[]).push([[740],{740:(t,i,e)=>{e.r(i),e.d(i,{TerminalCursor:()=>r});var s=e(653);class r extends s.m{constructor(t,i){super(t,i,"terminal-cursor"),this.lines=[],this.currentLine=0,this.cursorVisible=!0,this.cursorBlinkTimer=0,this.cursorBlinkInterval=500,this.typingTimer=0,this.typingSpeed=100,this.maxLines=20,this.terminalCommands=["npm install --save-dev typescript",'git commit -m "feat: implement new feature"',"docker build -t myapp:latest .","kubectl apply -f deployment.yaml","yarn test --coverage","eslint src/**/*.ts --fix","webpack --mode production","node server.js --port 3000","python manage.py migrate","cargo build --release","go mod tidy && go build","mvn clean install -DskipTests","composer install --no-dev","rails db:migrate RAILS_ENV=production","make clean && make all","terraform apply -auto-approve","ansible-playbook deploy.yml",'ssh user@server "systemctl restart nginx"',"curl -X POST https://api.example.com/data",'grep -r "TODO" src/ --include="*.ts"'],this.prompt="$ ",this.backgroundColor="#000000",this.textColor="#00ff00",this.cursorColor="#ffffff",this.applyThemeConfig(i.currentTheme||"matrix"),this.applySpeedConfig(i.speed||"medium")}initialize(){this.isInitialized=!0,this.lines=[],this.currentLine=0,this.cursorVisible=!0,this.cursorBlinkTimer=0,this.typingTimer=0,this.ctx.font="".concat(this.config.fontSize||12,"px ").concat(this.config.fontFamily||"Courier New, Monaco, Consolas, monospace"),this.ctx.textBaseline="top",this.ctx.textAlign="left",this.maxLines=Math.max(10,this.gridHeight-2),this.addNewLine()}addNewLine(){this.lines.length>=this.maxLines&&this.lines.shift();const t=this.getRandomCommand(),i={text:this.prompt+t,cursorPosition:this.prompt.length,isComplete:!1,age:0};this.lines.push(i),this.currentLine=this.lines.length-1}getRandomCommand(){return this.terminalCommands[Math.floor(Math.random()*this.terminalCommands.length)]}update(t){if(!this.isInitialized)return;this.cursorBlinkTimer+=t,this.cursorBlinkTimer>=this.cursorBlinkInterval&&(this.cursorVisible=!this.cursorVisible,this.cursorBlinkTimer=0),this.typingTimer+=t;const i=6e4/this.typingSpeed;this.typingTimer>=i&&this.lines.length>0&&(this.updateTyping(),this.typingTimer=0),this.lines.forEach(i=>{i.age+=t})}updateTyping(){const t=this.lines[this.currentLine];t&&!t.isComplete?t.cursorPosition<t.text.length?(t.cursorPosition++,Math.random()<.1?this.typingTimer-=.5*this.typingSpeed:Math.random()<.05&&(this.typingTimer-=2*this.typingSpeed)):(t.isComplete=!0,t.age=0):(!t||t.age>2e3)&&this.addNewLine()}render(){if(this.ctx.fillStyle=this.backgroundColor,this.ctx.fillRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),!this.isInitialized)return;this.ctx.fillStyle=this.textColor;const t=Math.max(0,this.gridHeight-this.lines.length-1);this.lines.forEach((i,e)=>{const s=t+e;s>=0&&s<this.gridHeight&&this.renderLine(i,s,e===this.currentLine)}),this.renderTerminalHeader()}renderLine(t,i,e){const s=t.text.substring(0,t.cursorPosition);for(let r=0;r<s.length&&r<this.gridWidth;r++){const t=s[r];let e=this.textColor;r<this.prompt.length&&(e=this.getCursorColor()),this.ctx.fillStyle=e,this.drawChar(t,r,i)}if(e&&!t.isComplete&&this.cursorVisible){this.ctx.fillStyle=this.cursorColor;const e=Math.min(t.cursorPosition,this.gridWidth-1);this.drawChar("\u2588",e,i)}if(t.isComplete&&e){const e=Math.min(t.text.length+1,this.gridWidth-1);this.ctx.fillStyle=this.getCompletionColor(),this.drawChar("\u2713",e,i)}}renderTerminalHeader(){if(this.gridHeight<3)return;const t="Terminal - ".concat(this.lines.length," lines");this.ctx.fillStyle=this.getHeaderColor();for(let i=0;i<Math.min(t.length,this.gridWidth);i++)this.drawChar(t[i],i,0);this.ctx.fillStyle=this.textColor;for(let i=0;i<this.gridWidth;i++)this.drawChar("-",i,1)}applyThemeConfig(t){switch(t){case"matrix":default:this.backgroundColor="#000000",this.textColor="#00ff00",this.cursorColor="#ffffff";break;case"terminal":this.backgroundColor="#000000",this.textColor="#00ff00",this.cursorColor="#00ff00";break;case"retro":this.backgroundColor="#1a1a1a",this.textColor="#ff6b35",this.cursorColor="#ffaa00";break;case"blue":this.backgroundColor="#001122",this.textColor="#00bfff",this.cursorColor="#ffffff"}}applySpeedConfig(t){switch(t){case"slow":this.typingSpeed=60,this.cursorBlinkInterval=800;break;case"medium":this.typingSpeed=120,this.cursorBlinkInterval=500;break;case"fast":this.typingSpeed=200,this.cursorBlinkInterval=300}}getCursorColor(){return this.cursorColor}getCompletionColor(){switch(this.config.currentTheme||"matrix"){case"matrix":case"terminal":default:return"#00ff00";case"retro":return"#ffaa00";case"blue":return"#00bfff"}}getHeaderColor(){switch(this.config.currentTheme||"matrix"){case"matrix":case"terminal":default:return"#008800";case"retro":return"#cc5500";case"blue":return"#0088cc"}}onResize(t,i){if(super.onResize(t,i),this.isInitialized){for(this.maxLines=Math.max(10,i-2);this.lines.length>this.maxLines;)this.lines.shift();this.currentLine=Math.min(this.currentLine,this.lines.length-1)}}setConfig(t){super.setConfig(t),t.currentTheme&&this.applyThemeConfig(t.currentTheme),t.speed&&this.applySpeedConfig(t.speed)}cleanup(){this.isInitialized=!1,this.lines=[],this.currentLine=0,this.cursorVisible=!0,this.cursorBlinkTimer=0,this.typingTimer=0,this.animationState={}}getAnimationState(){var t,i;return{lineCount:this.lines.length,currentLine:this.currentLine,cursorVisible:this.cursorVisible,typingSpeed:this.typingSpeed,currentProgress:(null===(t=this.lines[this.currentLine])||void 0===t?void 0:t.cursorPosition)||0,totalLength:(null===(i=this.lines[this.currentLine])||void 0===i?void 0:i.text.length)||0}}}}}]);
//# sourceMappingURL=740.3140062c.chunk.js.map